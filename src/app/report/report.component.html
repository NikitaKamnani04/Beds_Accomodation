<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">


<div class="parent">
    <div data-component="navbar">
        <nav class="navbar p-0 fixed-top">
            <div class="p-datatable-wrapper" style="min-height:300px; ;">

                <h4 style="margin-left:42%;position: absolute;bottom:20px;"><span class="heading">Report</span></h4>

                <button class="button-14  button_res  btn_res btn_res2  btn_res3" role="button" routerLink="/signIn">
                    <img src="../../assets/Images/images.png"
                        style="height: 20px;width:20px;left:7px;position: absolute;bottom:6px;">
                    <span style="position: absolute;right: 10%;bottom:6px;">Log Out</span></button>
            </div>
        </nav>
    </div>

    <div class="wp-content">

        <p-table class="p-element ng-star-inserted" #dt1 [value]="employeeData" [scrollable]="true"
            scrollHeight="750px" dataKey="id" [rows]="10" [showCurrentPageReport]="true" [tableStyle]="{'width':'80vh'}"
            [rowsPerPageOptions]="[10,25,50]" styleClass="p-datatable-customers p-datatable-gridlines"
            [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
            selectionMode="single"
            [globalFilterFields]="['name','email','deptName','roomNumber','bedNumber','loggedInDate','loggedOutDate']">

            <ng-template pTemplate="caption" >
                <div class="flex " style="height: 50px;">
                    <button pButton label="Clear" class="p-button-outlined paginator_bottom clear_btn"
                        icon="pi pi-filter-slash" (click)="clear(dt1)"></button>

                    <button (click)="export()" (change)="onFileChange($event)" multiple="false" class="export_btn"><svg
                            xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-save" viewBox="0 0 16 16">
                            <path
                                d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1z" />
                        </svg>
                        Export</button>
                    <span class="p-input-icon-left ml-auto" style="left: 76%;">
                        <i class="pi pi-search  search_icon  search_icon1"></i>
                        <input pInputText type="text" (input)="dt1.filterGlobal($any($event.target).value, 'contains')"
                            class="search_res  search_bar" placeholder="Search here"
                            style="height: 40px;margin-top: 10px;position: absolute;border-radius: 7px 7px 7px 7px;border: 1px solid black;float:right;" />
                    </span>
                </div>
            </ng-template>


            <ng-template pTemplate="header" style="min-height: 300px;">
                <tr>
                    <th style="width:16%;color: #000000;font-weight: 600;" class="Emp_name  emp_name">Employee Name</th>
                    <th style="width:16%;color: #000000;font-weight: 600;" class="email email_1">Email</th>
                    <th style="width:14%;color: #000000;font-weight: 600;" class="dept  dept_1">Department</th>
                    <th style="width:15%;color: #000000;font-weight: 600;" class="start_date  startdate_1">loggedInDate
                    </th>
                    <th style="width:15%;color: #000000;font-weight: 600;" class="end_date  enddate_1">loggedOutDate
                    </th>
                    <th style="width:12%;color: #000000;font-weight: 600;" class="room_no  room_no1">Room No.</th>
                    <th style="width:18%;color: #000000;font-weight: 600;" class="bed_no  bed_no1">Bed No.</th> 
                </tr>
                <tr>
                    <th>
                        <p-columnFilter type="text" field="name"></p-columnFilter>
                    </th>
                    <th>
                        <p-columnFilter type="text" field="email"></p-columnFilter>
                    </th>

                    <th>
                        <p-columnFilter type="text" field="deptName"></p-columnFilter>
                    </th>
                    <th>

                        <div class="p-d-flex p-jc-between p-ai-center">
                            <!-- loggedInDate
                        <p-columnFilter type="date" field="date" display="menu">

                        </p-columnFilter> -->

                            <p-calendar [(ngModel)]="value" view="month" dateFormat="mm/yy" [readonlyInput]="true" (onSelect)="loggedIn()">
                            </p-calendar >
                           

                        </div>
                    </th>
                    <th>
                        <div class="p-d-flex p-jc-between p-ai-center">
                            <!-- loggedOutDate
                         <p-columnFilter type="date" field="date" display="menu">

                         </p-columnFilter> -->
                            <p-calendar [(ngModel)]="value_1" view="month" dateFormat="mm/yy" 
                                [readonlyInput]="true" (onSelect)="loggedOut()"></p-calendar>
                        </div>
                    </th>

                    <th>
                        <div class="p-d-flex p-jc-between p-ai-center">

                            <p-columnFilter type="text" field="roomNumber">

                            </p-columnFilter>
                        </div>
                    </th>
                    <th>
                        <div class="p-d-flex p-jc-between p-ai-center">
                            <p-columnFilter type="text" field="bedNumber">

                            </p-columnFilter>
                        </div>
                    </th>

                </tr>
            </ng-template>
            <!-- <ng-template pTemplate="body" let-customer>
                    <tr>
                        <td>
                            {{customer.name}}
                        </td>
                        <td>
                            <img src="https://www.primefaces.org/primeng-v14-lts/assets/showcase/images/demo/flag/flag_placeholder.png"
                                [class]="'flag flag-' + customer.country.code" width="30">
                            <span class="image-text">{{customer.country.name}}</span>
                        </td>
                        <td>
                            <img [alt]="customer.representative.name"
                                src="https://www.primefaces.org/primeng-v14-lts/assets/showcase/images/demo/avatar/{{customer.representative.image}}" width="32"
                                style="vertical-align: middle" />
                            <span class="image-text">{{customer.representative.name}}</span>
                        </td>
                        <td>
                            {{customer.date | date: 'MM/dd/yyyy'}}
                        </td>
                        <td>
                            {{customer.balance | currency:'USD':'symbol'}}
                        </td>
                        <td>
                            <span [class]="'customer-badge status-' + customer.status">{{customer.status}}</span>
                        </td>
                       
                    </tr>
                </ng-template> -->
            <!-- <ng-template pTemplate="emptymessage">
                    <tr>
                       
                    </tr>
                </ng-template>  -->
            <!-- use in ng-template (let-customer) -->
             <!-- [pSelectableRow]="customer" use in tr tag below -->
            <ng-template pTemplate="body" let-customer>

                <tr>     
                    <td>
                        {{customer.name}}
                    </td>
                    <td>
                        {{customer.email}}
                    </td>

                    <td>
                        {{customer.deptName}}
                    </td>

                    <td>
                        {{customer.loggedInDate | date: 'yyyy-MM-dd' }}
                    </td>
                    <td>

                        {{customer.loggedOutDate| date: 'yyyy-MM-dd'}}
                    </td>
                    <td>
                        {{customer.roomNumber}}
                    </td>
                    <td>
                        {{customer.bedNumber}}
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="7" style="justify-content: center;">No employees found.</td>
                </tr>
            </ng-template>
        </p-table>

    </div>
</div>